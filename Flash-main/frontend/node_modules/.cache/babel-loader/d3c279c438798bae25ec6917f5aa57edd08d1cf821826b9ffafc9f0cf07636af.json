{"ast":null,"code":"var _jsxFileName = \"D:\\\\Work\\\\Mock-Up\\\\Flash-main\\\\frontend\\\\src\\\\components\\\\RateCourse\\\\RateCourse.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { Rating } from 'react-simple-star-rating';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Rate = _ref => {\n  _s();\n  let {\n    courseID\n  } = _ref;\n  const [value, setValue] = useState(null);\n  const [ratingMessage, setRatingMessage] = useState(null);\n  const handleRating = async rate => {\n    setValue(rate);\n    const response = await fetch('/courses/' + courseID + '/addRating', {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        rate: rate\n        //, raterID:\"6359b0cb73cc9ff23c41caf7\" //when login is added, replace this with session.id\n      })\n    }).then(res => res.json()).then(res => {\n      return res.message;\n    }).catch(err => console.log('error: ', err));\n    const saveMessage = async () => {\n      const a = await response;\n      setRatingMessage(a);\n    };\n    saveMessage();\n    //console.log(ratingMessage)\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [!value && /*#__PURE__*/_jsxDEV(Rating, {\n      onClick: handleRating\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 23\n    }, this), value && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: ratingMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 22\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n};\n_s(Rate, \"ExAzCO89N6VvWk6J4Qv8enbJqcA=\");\n_c = Rate;\nexport default Rate;\nvar _c;\n$RefreshReg$(_c, \"Rate\");","map":{"version":3,"names":["useEffect","useState","Rating","Rate","courseID","value","setValue","ratingMessage","setRatingMessage","handleRating","rate","response","fetch","method","headers","body","JSON","stringify","then","res","json","message","catch","err","console","log","saveMessage","a"],"sources":["D:/Work/Mock-Up/Flash-main/frontend/src/components/RateCourse/RateCourse.jsx"],"sourcesContent":["import { useEffect,useState } from \"react\"\r\nimport { Rating } from 'react-simple-star-rating'\r\n\r\n\r\nconst Rate = ({courseID})=>{\r\n\r\n    const [value, setValue] = useState(null);\r\n    const [ratingMessage,setRatingMessage] =useState(null)\r\n\r\n    const handleRating = async (rate) => {\r\n        \r\n        setValue(rate);\r\n        \r\n        const response =await fetch('/courses/'+courseID+'/addRating', {\r\n            method: 'PATCH',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n              rate: rate\r\n              //, raterID:\"6359b0cb73cc9ff23c41caf7\" //when login is added, replace this with session.id\r\n            }),\r\n          })\r\n            .then((res) => res.json())\r\n            .then((res) =>{ return res.message})\r\n            .catch((err) => console.log('error: ', err))\r\n\r\n            const saveMessage = async () => {\r\n              const a = await response;\r\n              setRatingMessage(a);\r\n            };\r\n\r\n            saveMessage();\r\n            //console.log(ratingMessage)\r\n      }\r\n\r\n    return (\r\n        <div>\r\n            {!value &&<Rating onClick={handleRating} />}\r\n            {value &&<p>{ratingMessage}</p>}\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\n\r\n\r\nexport default Rate"],"mappings":";;AAAA,SAASA,SAAS,EAACC,QAAQ,QAAQ,OAAO;AAC1C,SAASC,MAAM,QAAQ,0BAA0B;AAAA;AAGjD,MAAMC,IAAI,GAAG,QAAc;EAAA;EAAA,IAAb;IAACC;EAAQ,CAAC;EAEpB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGL,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACM,aAAa,EAACC,gBAAgB,CAAC,GAAEP,QAAQ,CAAC,IAAI,CAAC;EAEtD,MAAMQ,YAAY,GAAG,MAAOC,IAAI,IAAK;IAEjCJ,QAAQ,CAACI,IAAI,CAAC;IAEd,MAAMC,QAAQ,GAAE,MAAMC,KAAK,CAAC,WAAW,GAACR,QAAQ,GAAC,YAAY,EAAE;MAC3DS,MAAM,EAAE,OAAO;MACfC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnBP,IAAI,EAAEA;QACN;MACF,CAAC;IACH,CAAC,CAAC,CACCQ,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,EAAE,CAAC,CACzBF,IAAI,CAAEC,GAAG,IAAI;MAAE,OAAOA,GAAG,CAACE,OAAO;IAAA,CAAC,CAAC,CACnCC,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEF,GAAG,CAAC,CAAC;IAE5C,MAAMG,WAAW,GAAG,YAAY;MAC9B,MAAMC,CAAC,GAAG,MAAMhB,QAAQ;MACxBH,gBAAgB,CAACmB,CAAC,CAAC;IACrB,CAAC;IAEDD,WAAW,EAAE;IACb;EACN,CAAC;;EAEH,oBACI;IAAA,WACK,CAACrB,KAAK,iBAAG,QAAC,MAAM;MAAC,OAAO,EAAEI;IAAa;MAAA;MAAA;MAAA;IAAA,QAAG,EAC1CJ,KAAK,iBAAG;MAAA,UAAIE;IAAa;MAAA;MAAA;MAAA;IAAA,QAAK;EAAA;IAAA;IAAA;IAAA;EAAA,QAC7B;AAGd,CAAC;AAAA,GAvCKJ,IAAI;AAAA,KAAJA,IAAI;AA2CV,eAAeA,IAAI;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}