{"ast":null,"code":"var _jsxFileName = \"D:\\\\Work\\\\Mock-Up\\\\Flash-main\\\\frontend\\\\src\\\\components\\\\ProductDetails\\\\ProductDetails.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport Popup from 'reactjs-popup';\nimport 'reactjs-popup/dist/index.css';\nimport { useParams } from \"react-router-dom\";\n//import RatingsView from \"../RatingsView/RatingsView\";\nimport Card from '@mui/material/Card';\nimport CardActions from '@mui/material/CardActions';\nimport CardContent from '@mui/material/CardContent';\nimport CardMedia from '@mui/material/CardMedia';\nimport Typography from '@mui/material/Typography';\nimport Button from '@mui/material/Button';\nimport './productDetails.scss';\nimport MDButton from '@mui/material/Button';\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst displayStars = ratings => {\n  const starIcon = \"⭐\"; // You can replace this with an actual star icon if you have one\n  const fullStars = Math.floor(ratings);\n  const halfStars = ratings - fullStars >= 0.5 ? 1 : 0;\n  const emptyStars = 5 - fullStars - halfStars;\n  const stars = Array(fullStars).fill(starIcon).concat(halfStars ? [`${starIcon}½`] : []).concat(Array(emptyStars).fill('☆'));\n  return stars.join(' ');\n};\nconst ProductDetails = _ref => {\n  _s();\n  let {\n    product\n  } = _ref;\n  const [error, setError] = useState(null);\n  const [isInitialRender, setIsInitialRender] = useState(true);\n  const [ratings, setRatings] = useState(null);\n  const params = useParams();\n  const id = params.id;\n  const fetchRatings = async () => {\n    // You can add code here to fetch ratings for the product (if needed)\n    // const response = await fetch('/products/' + product._id + '/ratings/guest');\n    // const json = await response.json();\n    // if (response.ok) {\n    //   setRatings(json);\n    // }\n  };\n  const addCart = async product => {\n    try {\n      console.log(product);\n      const response = await fetch('/products/buyProduct', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          id: product._id,\n          cart: product.name\n        }) // Adjust the body data as needed\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        console.log('Product added to cart:', data);\n        // Implement logic to update cart state or show success message\n      } else {\n        console.error('Failed to add product to cart:', response.statusText);\n        // Implement logic to show error message\n      }\n    } catch (error) {\n      console.error('Error adding product to cart:', error);\n      // Implement logic to show error message\n    }\n  };\n\n  useEffect(() => {\n    if (isInitialRender) {\n      setIsInitialRender(false);\n      fetchRatings();\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"left\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      sx: {},\n      className: \"card hover-effect\",\n      children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n        sx: {\n          transition: \"all 0.3s ease\",\n          \"&:hover\": {\n            transform: \"scale3d(1.2, 1.2, 1)\"\n          }\n        },\n        component: \"img\",\n        alt: product.name,\n        width: \"300\",\n        height: \"100\",\n        image: product.image // Replace this with the product image URL\n        ,\n        variant: \"contained\",\n        className: \"cardMedia\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n        className: \"cardContent\",\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          gutterBottom: true,\n          variant: \"h5\",\n          component: \"div\",\n          className: \"t1\",\n          style: {\n            fontWeight: 'bold',\n            color: '#006DA3',\n            textAlign: 'center'\n          },\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h7\",\n          className: \"t2\",\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            color: '#006DA3'\n          },\n          children: displayStars(product.rating)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h7\",\n          className: \"t2\",\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            color: '#006DA3'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [product.price, \" EGP\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MDButton, {\n          className: \"btn-mdb\",\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: () => addCart(product),\n          style: {\n            marginTop: '10px',\n            marginLeft: 'auto',\n            marginRight: 'auto',\n            display: 'block'\n          },\n          children: \"Add to Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductDetails, \"kKgDwKZKo2Mu5Hpo1GKIPOJbza4=\", false, function () {\n  return [useParams];\n});\n_c = ProductDetails;\nexport default ProductDetails;\nvar _c;\n$RefreshReg$(_c, \"ProductDetails\");","map":{"version":3,"names":["useEffect","useState","Popup","useParams","Card","CardActions","CardContent","CardMedia","Typography","Button","MDButton","React","displayStars","ratings","starIcon","fullStars","Math","floor","halfStars","emptyStars","stars","Array","fill","concat","join","ProductDetails","product","error","setError","isInitialRender","setIsInitialRender","setRatings","params","id","fetchRatings","addCart","console","log","response","fetch","method","headers","body","JSON","stringify","_id","cart","name","ok","data","json","statusText","transition","transform","image","fontWeight","color","textAlign","display","alignItems","justifyContent","rating","price","marginTop","marginLeft","marginRight"],"sources":["D:/Work/Mock-Up/Flash-main/frontend/src/components/ProductDetails/ProductDetails.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport Popup from 'reactjs-popup';\r\nimport 'reactjs-popup/dist/index.css';\r\nimport { useParams } from \"react-router-dom\";\r\n//import RatingsView from \"../RatingsView/RatingsView\";\r\nimport Card from '@mui/material/Card';\r\nimport CardActions from '@mui/material/CardActions';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport CardMedia from '@mui/material/CardMedia';\r\nimport Typography from '@mui/material/Typography';\r\nimport Button from '@mui/material/Button';\r\nimport './productDetails.scss'\r\nimport MDButton from '@mui/material/Button';\r\nimport React from 'react';\r\n\r\nconst displayStars = (ratings) => {\r\n  const starIcon = \"⭐\"; // You can replace this with an actual star icon if you have one\r\n  const fullStars = Math.floor(ratings);\r\n  const halfStars = ratings - fullStars >= 0.5 ? 1 : 0;\r\n  const emptyStars = 5 - fullStars - halfStars;\r\n  const stars = Array(fullStars).fill(starIcon).concat(halfStars ? [`${starIcon}½`] : []).concat(Array(emptyStars).fill('☆'));\r\n  return stars.join(' ');\r\n};\r\nconst ProductDetails = ({ product }) => {\r\n\r\n  const [error, setError] = useState(null);\r\n  const [isInitialRender, setIsInitialRender] = useState(true);\r\n  const [ratings, setRatings] = useState(null);\r\n\r\n  const params = useParams();\r\n  const id = params.id;\r\n\r\n  const fetchRatings = async () => {\r\n    // You can add code here to fetch ratings for the product (if needed)\r\n    // const response = await fetch('/products/' + product._id + '/ratings/guest');\r\n    // const json = await response.json();\r\n    // if (response.ok) {\r\n    //   setRatings(json);\r\n    // }\r\n  };\r\n\r\n  \r\n  const addCart = async (product) => {\r\n    try {\r\n      console.log(product)\r\n      const response = await fetch('/products/buyProduct', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ id: product._id, cart: product.name }), // Adjust the body data as needed\r\n      });\r\n  \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        console.log('Product added to cart:', data);\r\n        // Implement logic to update cart state or show success message\r\n      } else {\r\n        console.error('Failed to add product to cart:', response.statusText);\r\n        // Implement logic to show error message\r\n      }\r\n    } catch (error) {\r\n      console.error('Error adding product to cart:', error);\r\n      // Implement logic to show error message\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isInitialRender) {\r\n      setIsInitialRender(false);\r\n      fetchRatings();\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"left\">\r\n      <Card sx={{}} className='card hover-effect'\r\n      >\r\n      <CardMedia\r\n    sx={{  transition: \"all 0.3s ease\",\r\n      \"&:hover\": {\r\n         transform: \"scale3d(1.2, 1.2, 1)\" }}}\r\n    component=\"img\"\r\n    alt={product.name}\r\n    width=\"300\"\r\n    height=\"100\"\r\n    image={product.image} // Replace this with the product image URL\r\n    variant=\"contained\"\r\n    className='cardMedia'\r\n  />\r\n        <CardContent className='cardContent'>\r\n          <Typography gutterBottom variant=\"h5\" component=\"div\" className='t1' style={{ fontWeight: 'bold', color: '#006DA3', textAlign: 'center' }}>\r\n            {product.name}\r\n          </Typography>\r\n          <Typography variant=\"h7\" className='t2' style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', color: '#006DA3' }}>\r\n             {displayStars(product.rating)}\r\n          </Typography>\r\n          <Typography variant=\"h7\" className='t2' style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', color: '#006DA3'}}>\r\n              <strong>{product.price} EGP</strong>\r\n          </Typography>\r\n          <MDButton\r\n            className=\"btn-mdb\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => addCart(product)}\r\n            style={{ marginTop: '10px', marginLeft: 'auto', marginRight: 'auto', display: 'block' }}\r\n          >\r\n            Add to Cart\r\n          </MDButton>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetails;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}