const Log = require('../models/LogsModel');

// Controller actions
const getAllLogs = async (req, res) => {
  try {
    const logs = await Log.find();
    res.status(200).json(logs);
  } catch (error) {
    res.status(400).json({ error: error.message });
  }
};

//POST a new log
const addLog = async (req, res) => {
 const { productName, productID, action, role, oldAmount, newAmount} = req.body;

  try {
    const log = await Log.create({
      productName,
      productID,
      action,
      role,
      oldAmount,
      newAmount
    });
    res.status(200).json(log);
  } catch (error) {
    res.status(400).json({ error: error.message });
  }
};


module.exports = {
  getAllLogs,
  addLog
};
